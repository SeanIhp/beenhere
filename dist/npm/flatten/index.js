"use strict";var exports=module.exports={};
module.exports = function flatten(list, depth) {
  depth = typeof depth == 'number' ? depth : Infinity;

  if (!depth) {
    if (Array.isArray(list)) {
      return list.map(function (i) {
        return i;
      });
    }
    return list;
  }

  return _flatten(list, 1);

  function _flatten(list, d) {
    return list.reduce(function (acc, item) {
      if (Array.isArray(item) && d < depth) {
        return acc.concat(_flatten(item, d + 1));
      } else {
        return acc.concat(item);
      }
    }, []);
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJmbGF0dGVuIiwibGlzdCIsImRlcHRoIiwiSW5maW5pdHkiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJpIiwiX2ZsYXR0ZW4iLCJkIiwicmVkdWNlIiwiYWNjIiwiaXRlbSIsImNvbmNhdCJdLCJtYXBwaW5ncyI6Ijs7QUFBQUEsT0FBT0MsT0FBUCxHQUFpQixTQUFTQyxPQUFULENBQWlCQyxJQUFqQixFQUF1QkMsS0FBdkIsRUFBOEI7QUFDN0NBLFVBQVMsT0FBT0EsS0FBUCxJQUFnQixRQUFqQixHQUE2QkEsS0FBN0IsR0FBcUNDLFFBQTdDOztBQUVBLE1BQUksQ0FBQ0QsS0FBTCxFQUFZO0FBQ1YsUUFBSUUsTUFBTUMsT0FBTixDQUFjSixJQUFkLENBQUosRUFBeUI7QUFDdkIsYUFBT0EsS0FBS0ssR0FBTCxDQUFTLFVBQVNDLENBQVQsRUFBWTtBQUFFLGVBQU9BLENBQVA7QUFBVyxPQUFsQyxDQUFQO0FBQ0Q7QUFDRCxXQUFPTixJQUFQO0FBQ0Q7O0FBRUQsU0FBT08sU0FBU1AsSUFBVCxFQUFlLENBQWYsQ0FBUDs7QUFFQSxXQUFTTyxRQUFULENBQWtCUCxJQUFsQixFQUF3QlEsQ0FBeEIsRUFBMkI7QUFDekIsV0FBT1IsS0FBS1MsTUFBTCxDQUFZLFVBQVVDLEdBQVYsRUFBZUMsSUFBZixFQUFxQjtBQUN0QyxVQUFJUixNQUFNQyxPQUFOLENBQWNPLElBQWQsS0FBdUJILElBQUlQLEtBQS9CLEVBQXNDO0FBQ3BDLGVBQU9TLElBQUlFLE1BQUosQ0FBV0wsU0FBU0ksSUFBVCxFQUFlSCxJQUFJLENBQW5CLENBQVgsQ0FBUDtBQUNELE9BRkQsTUFHSztBQUNILGVBQU9FLElBQUlFLE1BQUosQ0FBV0QsSUFBWCxDQUFQO0FBQ0Q7QUFDRixLQVBNLEVBT0osRUFQSSxDQUFQO0FBUUQ7QUFDRixDQXRCRCIsImZpbGUiOiJ1bmtub3duIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBmbGF0dGVuKGxpc3QsIGRlcHRoKSB7XG4gIGRlcHRoID0gKHR5cGVvZiBkZXB0aCA9PSAnbnVtYmVyJykgPyBkZXB0aCA6IEluZmluaXR5O1xuXG4gIGlmICghZGVwdGgpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShsaXN0KSkge1xuICAgICAgcmV0dXJuIGxpc3QubWFwKGZ1bmN0aW9uKGkpIHsgcmV0dXJuIGk7IH0pO1xuICAgIH1cbiAgICByZXR1cm4gbGlzdDtcbiAgfVxuXG4gIHJldHVybiBfZmxhdHRlbihsaXN0LCAxKTtcblxuICBmdW5jdGlvbiBfZmxhdHRlbihsaXN0LCBkKSB7XG4gICAgcmV0dXJuIGxpc3QucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGl0ZW0pIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGl0ZW0pICYmIGQgPCBkZXB0aCkge1xuICAgICAgICByZXR1cm4gYWNjLmNvbmNhdChfZmxhdHRlbihpdGVtLCBkICsgMSkpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBhY2MuY29uY2F0KGl0ZW0pO1xuICAgICAgfVxuICAgIH0sIFtdKTtcbiAgfVxufTtcbiJdfQ==